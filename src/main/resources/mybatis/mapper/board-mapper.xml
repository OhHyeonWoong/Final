<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE mapper PUBLIC
"-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="board-mapper">
	
	<resultMap type="Board" id="BoardResult">
		<id property="agency_no" column="agency_no"/>
		<result property="agency_writer" column="agency_writer"/>
		<result property="agency_title" column="agency_title"/>
		<result property="link2_no" column="link2_no"/>
		<result property="agency_type" column="agency_type"/>
		<result property="agency_loc" column="agency_loc"/>
		<result property="agency_startdate" column="agency_startdate"/>
		<result property="agency_enddate" column="agency_enddate"/>
		<result property="agency_enrolldate" column="agency_enrolldate"/>
		<result property="agency_paytype" column="agency_paytype"/>
		<result property="agency_pay" column="agency_pay"/>
		<result property="agency_status" column="agency_status"/>
		<result property="agency_content" column="agency_content"/>
		<result property="agency_views" column="agency_views"/>
		<result property="agency_keyword" column="agency_keyword"/>
		<result property="agency_option" column="agency_option"/>
	</resultMap>
	
	
	<resultMap type="BigCategory" id="BigCategoryAll">
		<id property="category_big_code" column="category_big_code"/>
		<result property="category_big_name" column="category_big_name"/>
		<result property="category_big_views" column="category_big_views"/>
	</resultMap>
	
	<resultMap type="MidCategory" id="MidCategoryAll">
		<id property="category_mid_code" column="category_mid_code"/>
		<result property="category_mid_name" column="category_mid_name"/>
		<result property="category_mid_views" column="category_mid_views"/>
	</resultMap>
	
	<resultMap type="SmallCategory" id="SmallCategoryAll">
		<id property="category_small_code" column="category_small_code"/>
		<result property="category_small_name" column="category_small_name"/>
		<result property="category_small_views" column="category_small_views"/>
	</resultMap>
	
	<resultMap type="CategoryLink1" id="CategoryLink1All">
		<id property="link1_no" column="link1_no"/>
		<result property="category_big_code" column="category_big_code"/>
		<result property="category_mid_code" column="category_mid_code"/>
	</resultMap>
	
	<resultMap type="CategoryLink2" id="CategoryLink2All">
		<id property="link2_no" column="link2_no"/>
		<result property="category_mid_code" column="category_mid_code"/>
		<result property="category_small_code" column="category_small_code"/>
	</resultMap>
		
	<select id="selectCategory" parameterType="Board" resultMap="BoardResult">
		<![CDATA[
			select a.AGENCY_NO,a.AGENCY_WRITER,a.AGENCY_TITLE,s.CATEGORY_SMALL_NAME as LINK2_NO,a.AGENCY_TYPE,a.AGENCY_LOC,a.AGENCY_STARTDATE,a.AGENCY_ENDDATE,a.AGENCY_ENROLLDATE,a.AGENCY_PAYTYPE,a.AGENCY_PAY,a.AGENCY_STATUS,a.AGENCY_CONTENT,a.AGENCY_VEIWS,a.AGENCY_KEYWORD,a.AGENCY_OPTION from agency a,CATEGORYLINK2 l ,SMALLCATEGORY s where l.LINK2_NO = a.LINK2_NO and s.CATEGORY_SMALL_CODE = l.CATEGORY_SMALL_CODE and s.CATEGORY_SMALL_NAME = #{link2_no}
		]]>
	</select>
	
	<select id="selectCategoryMid" parameterType="Board" resultMap="BoardResult">
		<![CDATA[
			select a.AGENCY_NO,a.AGENCY_WRITER,a.AGENCY_TITLE,m.CATEGORY_MID_NAME as LINK2_NO,a.AGENCY_TYPE,a.AGENCY_LOC,a.AGENCY_STARTDATE,a.AGENCY_ENDDATE,a.AGENCY_ENROLLDATE,a.AGENCY_PAYTYPE,a.AGENCY_PAY,a.AGENCY_STATUS,a.AGENCY_CONTENT,a.AGENCY_VEIWS,a.AGENCY_KEYWORD,a.AGENCY_OPTION from agency a,CATEGORYLINK2 l,MIDCATEGORY m where l.LINK2_NO = a.LINK2_NO and m.CATEGORY_MID_CODE = l.CATEGORY_MID_CODE and m.CATEGORY_MID_NAME= #{link2_no} order by a.AGENCY_NO
		]]>
	</select>
	
	<select id="selectCategoryBig" parameterType="Board" resultMap="BoardResult">
		<![CDATA[
			select a.AGENCY_NO,a.AGENCY_WRITER,a.AGENCY_TITLE,b.CATEGORY_BIG_NAME as LINK2_NO,a.AGENCY_TYPE,a.AGENCY_LOC,a.AGENCY_STARTDATE,a.AGENCY_ENDDATE,a.AGENCY_ENROLLDATE,a.AGENCY_PAYTYPE,a.AGENCY_PAY,a.AGENCY_STATUS,a.AGENCY_CONTENT,a.AGENCY_VEIWS,a.AGENCY_KEYWORD,a.AGENCY_OPTION from AGENCY a, CATEGORYLINK2 link2, CATEGORYLINK1 link1,BIGCATEGORY b where link2.LINK2_NO = a.LINK2_NO and link2.CATEGORY_MID_CODE = link1.CATEGORY_MID_CODE and link1.CATEGORY_BIG_CODE = b.CATEGORY_BIG_CODE and b.CATEGORY_BIG_NAME = #{link2_no} order by a.AGENCY_NO
		]]>
	</select>
	
	<select id="selectBigCategoryAll" parameterType="BigCategory" resultMap="BigCategoryAll">
		<![CDATA[
			select * from bigcategory
		]]>
	</select>
	
	<select id="selectMidCategoryAll" parameterType="MidCategory" resultMap="MidCategoryAll">
		<![CDATA[
			select * from midcategory
		]]>
	</select>
	
	<select id="selectSmallCategoryAll" parameterType="SmallCategory" resultMap="SmallCategoryAll">
		<![CDATA[
			select * from smallcategory
		]]>
	</select>
	
	<select id="selectCategoryLink1" parameterType="CategoryLink1" resultMap="CategoryLink1All">
		<![CDATA[
			select l.LINK1_NO, b.CATEGORY_BIG_NAME as CATEGORY_BIG_CODE, m.CATEGORY_MID_NAME as CATEGORY_MID_CODE from categorylink1 l,BIGCATEGORY b, MIDCATEGORY m where l.CATEGORY_BIG_CODE = b.CATEGORY_BIG_CODE and m.CATEGORY_MID_CODE = l.CATEGORY_MID_CODE
		]]>
	</select>
	
	<select id="selectCategoryLink2" parameterType="CategoryLink2" resultMap="CategoryLink2All">
		<![CDATA[
			select l.LINK2_NO, m.CATEGORY_MID_NAME as CATEGORY_MID_CODE, s.CATEGORY_SMALL_NAME as CATEGORY_SMALL_CODE from CATEGORYLINK2 l,MIDCATEGORY m, SMALLCATEGORY s where l.CATEGORY_MID_CODE = m.CATEGORY_MID_CODE and s.CATEGORY_SMALL_CODE = l.CATEGORY_SMALL_CODE
		]]>
	</select>
	
	<!-- 메인화면 로딩시 제공해요 부분에 데이터를 바로 끌어오는 select쿼리문 -->
	<select id="mainPageShowLifeListPic" resultMap="BoardResult"> <!-- 생활영역(Data 6EA) -->
		<![CDATA[select * from (select rownum rnum,agency_no, agency_writer,agency_title,link2_no,agency_type, 
			agency_loc,agency_startdate,agency_enddate,agency_enrolldate,agency_paytype,agency_pay,agency_status
			,agency_content,agency_veiws,agency_keyword,agency_option from (select * from agency where agency_type=2 and link2_no between 1 and 20)) 
			where rnum>=1 and rnum<=6]]> 
	</select>
	
	<select id="mainPageShowPetListPic" resultMap="BoardResult"> <!-- 반려동물영역(Data 6EA)  -->
		<![CDATA[select * from (select rownum rnum,agency_no, agency_writer,agency_title,link2_no,agency_type, 
			agency_loc,agency_startdate,agency_enddate,agency_enrolldate,agency_paytype,agency_pay,agency_status
			,agency_content,agency_veiws,agency_keyword,agency_option from (select * from agency where agency_type=2 and link2_no between 119 and 130)) 
			where rnum>=1 and rnum<=6]]> 
	</select>


	<select id="mainPageShowGameListPic" resultMap="BoardResult"> <!-- 게임영역(Data 6EA) -->
		<![CDATA[select * from (select rownum rnum,agency_no, agency_writer,agency_title,link2_no,agency_type, 
			agency_loc,agency_startdate,agency_enddate,agency_enrolldate,agency_paytype,agency_pay,agency_status
			,agency_content,agency_veiws,agency_keyword,agency_option from (select * from agency where agency_type=2 and link2_no between 53 and 88)) 
			where rnum>=1 and rnum<=6]]> 
	</select>
	
		
	<select id="mainPageShowMusicListPic1" resultMap="BoardResult"> <!-- 음악영역(Data 18EA) 5/4/5/4 Tablex4개가 필요함 -->
		<![CDATA[select * from (select rownum rnum,agency_no, agency_writer,agency_title,link2_no,agency_type, 
			agency_loc,agency_startdate,agency_enddate,agency_enrolldate,agency_paytype,agency_pay,agency_status
			,agency_content,agency_veiws,agency_keyword,agency_option from (select * from agency where agency_type=2 and link2_no between 28 and 52)) 
			where rnum>=1 and rnum<=5]]> 
	</select>
	<select id="mainPageShowMusicListPic2" resultMap="BoardResult"> <!-- 음악영역(Data 18EA) 5/4/5/4 Tablex4개가 필요함 -->
		<![CDATA[select * from (select rownum rnum,agency_no, agency_writer,agency_title,link2_no,agency_type, 
			agency_loc,agency_startdate,agency_enddate,agency_enrolldate,agency_paytype,agency_pay,agency_status
			,agency_content,agency_veiws,agency_keyword,agency_option from (select * from agency where agency_type=2 and link2_no between 28 and 52)) 
			where rnum>=1 and rnum<=4]]> 
	</select>
	<select id="mainPageShowMusicListPic3" resultMap="BoardResult"> <!-- 음악영역(Data 18EA) 5/4/5/4 Tablex4개가 필요함 -->
		<![CDATA[select * from (select rownum rnum,agency_no, agency_writer,agency_title,link2_no,agency_type, 
			agency_loc,agency_startdate,agency_enddate,agency_enrolldate,agency_paytype,agency_pay,agency_status
			,agency_content,agency_veiws,agency_keyword,agency_option from (select * from agency where agency_type=2 and link2_no between 28 and 52)) 
			where rnum>=10 and rnum<=14]]> 
	</select>
	<select id="mainPageShowMusicListPic4" resultMap="BoardResult"> <!-- 음악영역(Data 18EA) 5/4/5/4 Tablex4개가 필요함 -->
		<![CDATA[select * from (select rownum rnum,agency_no, agency_writer,agency_title,link2_no,agency_type, 
			agency_loc,agency_startdate,agency_enddate,agency_enrolldate,agency_paytype,agency_pay,agency_status
			,agency_content,agency_veiws,agency_keyword,agency_option from (select * from agency where agency_type=2 and link2_no between 28 and 52)) 
			where rnum>=15 and rnum<=18]]> 
	</select>

	<!-- 여기서부터 손봐야될 것 -->
	<select id="mainPageShowRentListPic" resultMap="BoardResult"> <!-- 렌탈영역(Data 24EA) 6/6/6/6 Tablex4개가 필요함 -->
		<![CDATA[select * from (select rownum rnum,agency_no, agency_writer,agency_title,link2_no,agency_type, 
			agency_loc,agency_startdate,agency_enddate,agency_enrolldate,agency_paytype,agency_pay,agency_status
			,agency_content,agency_veiws,agency_keyword,agency_option from (select * from agency where agency_type=2 and link2_no between 89 and 91)) 
			where rnum>=1 and rnum<=6]]> 
	</select>
	<select id="mainPageShowRentListPic2" resultMap="BoardResult"> <!-- 렌탈영역(Data 24EA) 6/6/6/6 Tablex4개가 필요함 -->
		<![CDATA[select * from (select rownum rnum,agency_no, agency_writer,agency_title,link2_no,agency_type, 
			agency_loc,agency_startdate,agency_enddate,agency_enrolldate,agency_paytype,agency_pay,agency_status
			,agency_content,agency_veiws,agency_keyword,agency_option from (select * from agency where agency_type=2 and link2_no between 89 and 91)) 
			where rnum>=7 and rnum<=12]]> 
	</select>
	<select id="mainPageShowRentListPic3" resultMap="BoardResult"> <!-- 렌탈영역(Data 24EA) 6/6/6/6 Tablex4개가 필요함 -->
		<![CDATA[select * from (select rownum rnum,agency_no, agency_writer,agency_title,link2_no,agency_type, 
			agency_loc,agency_startdate,agency_enddate,agency_enrolldate,agency_paytype,agency_pay,agency_status
			,agency_content,agency_veiws,agency_keyword,agency_option from (select * from agency where agency_type=2 and link2_no between 89 and 91)) 
			where rnum>=13 and rnum<=18]]> 
	</select>
	<select id="mainPageShowRentListPic4" resultMap="BoardResult"> <!-- 렌탈영역(Data 24EA) 6/6/6/6 Tablex4개가 필요함 -->
		<![CDATA[select * from (select rownum rnum,agency_no, agency_writer,agency_title,link2_no,agency_type, 
			agency_loc,agency_startdate,agency_enddate,agency_enrolldate,agency_paytype,agency_pay,agency_status
			,agency_content,agency_veiws,agency_keyword,agency_option from (select * from agency where agency_type=2 and link2_no between 89 and 91)) 
			where rnum>=19 and rnum<=24]]> 
	</select>
	
	<select id="mainPageShowTravelListPic" resultMap="BoardResult"> <!-- 여행영역(Data 10EA) 5/5 Tablex2개가 필요함 -->
		<![CDATA[select * from (select rownum rnum,agency_no, agency_writer,agency_title,link2_no,agency_type, 
			agency_loc,agency_startdate,agency_enddate,agency_enrolldate,agency_paytype,agency_pay,agency_status
			,agency_content,agency_veiws,agency_keyword,agency_option from (select * from agency where agency_type=2 and link2_no between 21 and 27)) 
			where rnum>=1 and rnum<=5]]> 
	</select>
	<select id="mainPageShowTravelListPic2" resultMap="BoardResult"> <!-- 여행영역(Data 10EA) 5/5 Tablex2개가 필요함 -->
		<![CDATA[select * from (select rownum rnum,agency_no, agency_writer,agency_title,link2_no,agency_type, 
			agency_loc,agency_startdate,agency_enddate,agency_enrolldate,agency_paytype,agency_pay,agency_status
			,agency_content,agency_veiws,agency_keyword,agency_option from (select * from agency where agency_type=2 and link2_no between 21 and 27)) 
			where rnum>=6 and rnum<=10]]> 
	</select>
	
	<select id="mainPageShowFreeListPic" resultMap="BoardResult"> <!-- 프리랜서영역(Data 25EA) 6/5/5/5/5 Tablex5개가 필요함 -->
		<![CDATA[select * from (select rownum rnum,agency_no, agency_writer,agency_title,link2_no,agency_type, 
			agency_loc,agency_startdate,agency_enddate,agency_enrolldate,agency_paytype,agency_pay,agency_status
			,agency_content,agency_veiws,agency_keyword,agency_option from (select * from agency where agency_type=2 and link2_no between 97 and 118)) 
			where rnum>=1 and rnum<=5]]> 
	</select>
	<select id="mainPageShowFreeListPic2" resultMap="BoardResult"> <!-- 프리랜서영역(Data 25EA) 6/5/5/5/5 Tablex5개가 필요함 -->
		<![CDATA[select * from (select rownum rnum,agency_no, agency_writer,agency_title,link2_no,agency_type, 
			agency_loc,agency_startdate,agency_enddate,agency_enrolldate,agency_paytype,agency_pay,agency_status
			,agency_content,agency_veiws,agency_keyword,agency_option from (select * from agency where agency_type=2 and link2_no between 97 and 118)) 
			where rnum>=7 and rnum<=11]]> 
	</select>
	<select id="mainPageShowFreeListPic3" resultMap="BoardResult"> <!-- 프리랜서영역(Data 25EA) 6/5/5/5/5 Tablex5개가 필요함 -->
		<![CDATA[select * from (select rownum rnum,agency_no, agency_writer,agency_title,link2_no,agency_type, 
			agency_loc,agency_startdate,agency_enddate,agency_enrolldate,agency_paytype,agency_pay,agency_status
			,agency_content,agency_veiws,agency_keyword,agency_option from (select * from agency where agency_type=2 and link2_no between 97 and 118)) 
			where rnum>=12 and rnum<=16]]> 
	</select>
	<select id="mainPageShowFreeListPic4" resultMap="BoardResult"> <!-- 프리랜서영역(Data 25EA) 6/5/5/5/5 Tablex5개가 필요함 -->
		<![CDATA[select * from (select rownum rnum,agency_no, agency_writer,agency_title,link2_no,agency_type, 
			agency_loc,agency_startdate,agency_enddate,agency_enrolldate,agency_paytype,agency_pay,agency_status
			,agency_content,agency_veiws,agency_keyword,agency_option from (select * from agency where agency_type=2 and link2_no between 97 and 118)) 
			where rnum>=17 and rnum<=21]]> 
	</select>
	<select id="mainPageShowFreeListPic5" resultMap="BoardResult"> <!-- 프리랜서영역(Data 25EA) 6/5/5/5/5 Tablex5개가 필요함 -->
		<![CDATA[select * from (select rownum rnum,agency_no, agency_writer,agency_title,link2_no,agency_type, 
			agency_loc,agency_startdate,agency_enddate,agency_enrolldate,agency_paytype,agency_pay,agency_status
			,agency_content,agency_veiws,agency_keyword,agency_option from (select * from agency where agency_type=2 and link2_no between 97 and 118)) 
			where rnum>=22 and rnum<=26]]> 
	</select>
	
	<select id="mainPageShowRequireListPic" resultMap="BoardResult"> <!-- 구인영역(Data 18EA) 6/6/6 Tablex3개가 필요함 -->
		<![CDATA[select * from (select rownum rnum,agency_no, agency_writer,agency_title,link2_no,agency_type, 
			agency_loc,agency_startdate,agency_enddate,agency_enrolldate,agency_paytype,agency_pay,agency_status
			,agency_content,agency_veiws,agency_keyword,agency_option from (select * from agency where agency_type=2 and link2_no between 92 and 96)) 
			where rnum>=1 and rnum<=6]]> 
	</select>

	<!-- 메인화면 로딩시 제공해요 부분에 데이터를 바로 끌어오는 select쿼리문END-->  
	
	
	
	<!-- <insert id="MemberInsert" parameterType="Member" flushCache="true" statementType="PREPARED">		
		insert into member 
		values 
		(#{userId}, 
		#{userPwd}, 
		#{userName}, 
		#{gender}, 
		#{age}, 
		#{phone}, 
		#{email}, 
		#{hobby}, 
		#{etc}, 
		sysdate, 
		sysdate)		
	</insert>
	
	<update id="MemberUpdate" parameterType="Member" flushCache="true" statementType="PREPARED">
		update member 
		set userpwd = #{userPwd}, 
		age = #{age}, 
		phone = #{phone}, 
		email = #{email}, 
		hobby = #{hobby}, 
		etc = #{etc}, 
		lastmodified = sysdate 
		where userid = #{userId}
	</update>
	
	<delete id="MemberDelete" parameterType="Member" flushCache="true" statementType="PREPARED">
		delete from member 
		where userid = #{userId}
	</delete> -->

</mapper>
