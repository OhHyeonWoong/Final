<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE mapper PUBLIC
"-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="Trade_detailDetail">
	
	<resultMap type="Trade_detail" id="Trade_detail">
		<id property="TRADE_NO" column="TRADE_NO"/>
		<result property="AGENCY_NO" column="AGENCY_NO"/>
		<result property="TRADE_APPLICANT" column="TRADE_APPLICANT"/>
		<result property="TRADE_DATE" column="TRADE_DATE"/>
		<result property="TRADE_RESERVATION" column="TRADE_RESERVATION"/>
		<result property="TRADE_RESERVATION_DATE" column="TRADE_RESERVATION_DATE"/>
	</resultMap>

<insert id="insertNewTradeDetail" parameterType="Trade_detail">
insert into TRADE_DETAIL values(
(select max(TRADE_NO)+1 from TRADE_DETAIL),#{AGENCY_NO},#{TRADE_APPLICANT},sysdate,'','')
</insert>

<update id="UpdateTradeReserVation" parameterType="Trade_detail">
update TRADE_DETAIL set TRADE_RESERVATION = #{TRADE_RESERVATION} 
, TRADE_RESERVATION_DATE = sysdate where AGENCY_NO=#{AGENCY_NO} 
</update>

</mapper>
